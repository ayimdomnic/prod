(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-078589de"],{"00a5":function(t,e,a){"use strict";var s=a("1c52"),i=a.n(s);i.a},"18b4":function(t,e,a){"use strict";var s=a("4d73"),i=a.n(s);i.a},"1c52":function(t,e,a){},"20b9":function(t,e,a){"use strict";var s=a("ead6"),i=a.n(s);i.a},"456d":function(t,e,a){var s=a("4bf8"),i=a("0d58");a("5eda")("keys",(function(){return function(t){return i(s(t))}}))},"4d73":function(t,e,a){},5257:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tab-content",attrs:{id:"v-pills-tabContent"}},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-home-tab"}},[a("div",{staticClass:"component"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 col-xs-12"},[a("create-group",{directives:[{name:"show",rawName:"v-show",value:!t.authUser.group,expression:"!authUser.group"}],attrs:{"auth-user":t.authUser}})],1),a("div",{staticClass:"col-md-12 col-xs-12"},[a("group-list",{attrs:{user:t.authUser,"user-groups":t.userGroups}})],1)])])]),a("div",{staticClass:"tab-pane fade",attrs:{id:"v-pills-profile",role:"tabpanel","aria-labelledby":"v-pills-profile-tab"}},[a("div",{staticClass:"component"},[a("group-invitations",{attrs:{"auth-user":t.authUser,"user-details":t.userDetails}})],1)]),a("div",{staticClass:"tab-pane fade",attrs:{id:"v-pills-messages",role:"tabpanel","aria-labelledby":"v-pills-messages-tab"}},[a("div",{staticClass:"component"},[a("group-bet-history")],1)]),a("div",{staticClass:"tab-pane fade",attrs:{id:"v-pills-settings",role:"tabpanel","aria-labelledby":"v-pills-settings-tab"}},[a("div",{staticClass:"component"},[a("contribution",{attrs:{"auth-user":t.authUser,"user-groups":t.userGroups}})],1)]),a("div",{staticClass:"tab-pane fade",attrs:{id:"v-pills-games",role:"tabpanel","aria-labelledby":"v-pills-settings-tab"}},[a("voting-component",{attrs:{"auth-user":t.authUser,"user-groups":t.userGroups}})],1)])])},i=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),r=a("56c0"),o=a("b9f0"),u=a("2f62"),l=a("bc3a"),c=a.n(l),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component py-4"},[a("h5",{staticClass:"component__heading pt-0 pt-lg-2 px-3 px-lg-5"},[t._v("Group Contribution")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-9 col-xl-7"},[a("BetForm",{staticClass:"px-3 px-lg-5"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.sendContribution(e)}}},[t.contribution.formErrors?a("div",{staticClass:"form-group"},[a("span",{staticClass:"text-danger"},[t._v("The fields cannot be empty")])]):t._e(),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contribution.amount,expression:"contribution.amount"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Amount to contribute to group"},domProps:{value:t.contribution.amount},on:{input:function(e){e.target.composing||t.$set(t.contribution,"amount",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.contribution.group,expression:"contribution.group"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.contribution,"group",e.target.multiple?a:a[0])}}},[a("option",{attrs:{selected:"",value:""}},[t._v(" Select group ")]),t._l(t.userGroups,(function(e){return a("option",{key:e.name,domProps:{value:e.uuid}},[t._v(t._s(e.name))])}))],2)]),a("div",{staticClass:"form-group"},[a("BetButton",{attrs:{type:"submit",disabled:!t.contribution.group}},[t._v("Contribute")])],1)])])],1)])])},p=[],v=a("eb6e"),b=a("d04b"),f={name:"Contribution",components:{BetForm:v["a"],BetButton:b["a"]},props:["authUser","userGroups"],data:function(){return{contribution:{amount:"",group:"",formErrors:!1}}},methods:{sendContribution:function(){var t=this;null!==this.contribution.group&&null!==this.contribution.amount?c.a.post(r["o"]+this.contribution.group+"/contribute",this.contribution,{headers:o["a"].getHeaders()}).then((function(e){200===e.data.code?(t.$noty.success(e.data.message),t.$store.dispatch("init_auth_user",{request:"refresh"})):t.$noty.error(e.data.message)}),(function(e){t.$noty.error(e.response.data.message)})):this.contribution.formErrors=!0}}},m=f,g=a("2877"),_=Object(g["a"])(m,d,p,!1,null,"4bcf614e",null),h=_.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.userGroups&&t.userGroups.length?a("BetAccordion",t._l(t.userGroups,(function(e,s){return a("b-card",{key:e.uuid,staticClass:"mb-1 user-group",attrs:{"no-body":""}},[a("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"group"+e.uuid,expression:"`group${group.uuid}`"}],attrs:{"header-tag":"header",role:"tab"}},[a("div",{staticClass:"right-arrow float-right"},[t._v("+")]),a("span",{staticClass:"header-anchor"},[t._v(t._s(e.name)+" "+t._s(e.admin?"(admin)":""))])]),a("b-collapse",{attrs:{id:"group"+e.uuid,visible:0===s,accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("div",{staticClass:"table-responsive user-group__table"},[e.group_picks?a("Table",[a("thead",[a("tr",[a("th",{staticClass:"pl-3 pl-lg-4"},[t._v("Time")]),a("th",[t._v("Game")]),a("th",[t._v("Pick")]),a("th",[t._v("User")]),a("th",[t._v("Status")]),a("th",[t._v("Votes")]),a("th",[t._v("vote")])])]),a("tbody",t._l(e.group_picks.data,(function(e,s){return t.$gameHelper.groupGameIsStarted(e)?t._e():a("tr",{key:s},[a("td",{staticClass:"pl-3 pl-lg-4"},[a("span",{staticClass:"date__time"},[t._v(" "+t._s(t._f("formatTime")(e.scheduled))+" ")]),a("br"),a("span",{staticClass:"date__day"},[t._v(" "+t._s(t._f("betDate")(e.scheduled))+" ")])]),a("td",[t._v(t._s(e.game))]),a("td",[t._v("\n                  "+t._s(e.pick)+"\n                  "),a("span",{staticClass:"date__day"},[t._v(" (Odd : "+t._s(e.odd)+")")])]),a("td",[t._v("+"+t._s(e.user))]),a("td",[t._v(t._s(t.$gameHelper.groupGameIsStarted(e)?"Started":"Not Started"))]),a("td",[t._v(" "+t._s(e.votes)+" ")]),a("td",[t.$gameHelper.groupGameIsStarted(e)?t._e():a("input",{attrs:{type:"checkbox",disabled:t.userHasVotedForGame(e)},domProps:{value:e.id},on:{click:function(a){return t.addToVoted(e)}}})])])})),0)]):t._e()],1),a("div",{staticClass:"table-responsive user-group__table"},[a("Table",[a("thead",[a("tr",[e.admin?a("th",{staticClass:"pl-3 pl-lg-4"},[t._v("Stake ")]):t._e(),e.admin?a("th",[t._v("P-Win "),a("br"),a("small",{staticClass:"date__day"},[t._v("For un-started games")])]):t._e(),e.admin?a("th",[t._v("P-Win "),a("br"),a("small",{staticClass:"date__day"},[t._v("For all games")])]):t._e(),a("th",[t._v("\n                  Odds"),a("br"),a("small",{staticClass:"date__day"},[t._v("Un-started games ")])]),a("th",[t._v("\n                  Odds"),a("br"),a("small",{staticClass:"date__day"},[t._v("For all games ")])])])]),a("tbody",[a("tr",[e.admin?a("td",{staticClass:"pl-3 pl-lg-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.stake,expression:"stake"}],staticClass:"form-control form-control-sm",attrs:{type:"number",id:"user_stake"},domProps:{value:t.stake},on:{input:function(e){e.target.composing||(t.stake=e.target.value)}}})]):t._e(),e.admin?a("td",[t._v(t._s(t.getPossibleWin(e)))]):t._e(),e.admin?a("td",[t._v(t._s(t.getPossibleWinForAllGames(e)))]):t._e(),a("td",[t._v("\n                  "+t._s(t.getTotalOdds(e))+"\n                ")]),a("td")])])])],1),a("div",{staticClass:"form-group d-flex justify-content-between"},[a("BetButton",{attrs:{type:"submit"},on:{click:function(a){return t.submitVotes(e.uuid)}}},[t._v("Submit Votes")]),e.admin?a("BetButton",{attrs:{type:"submit"},on:{click:function(a){return t.placeGroupBet(e)}}},[t._v("Place Group Bet")]):t._e()],1)])],1)],1)})),1):t._e()},y=[],k=a("26e6"),x=a("9b37"),O=a("5378"),G={name:"VotingComponent",components:{Table:x["a"],BetAccordion:O["a"],BetButton:b["a"]},props:["authUser","userGroups"],data:function(){return{votes:[],stake:100,voters:[]}},methods:{submitVotes:function(t){var e=this,a={votes:this.votes,group_id:t};c.a.post(r["r"],a,{headers:o["a"].getHeaders()}).then((function(t){e.$noty.success("Votes submitted successfully"),e.$store.dispatch("init_auth_user",{request:"refresh"})}))},getGameVoters:function(t){if(t){var e=t.voters.data,a=[];return e.forEach((function(t){a.push(t.user_id)})),a}},userHasVotedForGame:function(t){if(t){var e=!0,a=this.getGameVoters(t);return e=-1!==a.indexOf(this.authUser.user_id),e}},addToVoted:function(t){this.votes.push(t.game_id)},getTotalOddsForAllGames:function(t){if(t){var e=1;return t&&t.group_picks.data.forEach((function(t){e*=parseFloat(t.odd)})),e.toFixed(2)}},getTotalOdds:function(t){if(t){var e=1,a=t.group_picks.data;return a&&a.forEach((function(t){k["a"].groupGameIsStarted(t)||(e*=parseFloat(t.odd))})),e.toFixed(2)}},getPossibleWin:function(t){if(t)return this.stake?this.getTotalOdds(t)*this.stake:0},getPossibleWinForAllGames:function(t){if(t)return this.stake?this.getTotalOddsForAllGames(t)*this.stake:0},placeGroupBet:function(t){var e=this;if(t){var a=!1,s=this.authUser.group.group_picks.data,i=[];if(s.forEach((function(t){k["a"].groupGameIsStarted(t.game)&&(a=!0),!k["a"].groupGameIsStarted(t.game)&&t.votes>=2&&i.push({game_id:t.game_id,game:t.game,odd:t.odd,id:t.oddId,odd_id:t.odd_id,pick:t.pick,scheduled:t.scheduled,market_id:t.market_id})})),a)this.$noty.warning("Some of the games in your bet slip have already started");else{var n={group_id:t.uuid,picks:i,amount:this.stake};c.a.post(r["p"],n,{headers:o["a"].getHeaders()}).then((function(t){200===t.data.code&&e.$noty.success(t.data.message)}))}}}}},w=G,B=(a("979e"),Object(g["a"])(w,C,y,!1,null,"b23e4f9c",null)),$=B.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component bet-history"},[a("div",{staticClass:"table-responsive"},[a("Table",{staticClass:"bet-history__table"},[a("thead",[a("tr",[a("th",{staticClass:"pl-3 pl-lg-5"},[t._v("Date")]),a("th",[t._v("Type")]),a("th",[t._v("BET ID")]),a("th",[t._v("Status")]),a("th",[t._v("Possible Win")])])]),a("tbody")])],1)])},F=[],P={name:"GroupBetHistory",components:{Table:x["a"]}},T=P,E=(a("00a5"),Object(g["a"])(T,j,F,!1,null,"669e7fc6",null)),S=E.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("BetNavTabs",{staticClass:"px-3 px-lg-5"},[a("ul",{staticClass:"nav nav-sm",attrs:{id:"pills-tab",role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{"data-toggle":"pill",href:"#my-invites",role:"tab","aria-controls":"pills-home","aria-selected":"true"}},[t._v("My Invites")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"pill",href:"#my-invited-friends",role:"tab","aria-controls":"pills-home","aria-selected":"true"}},[t._v("Requested Friends")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"pill",href:"#invite-user",role:"tab","aria-controls":"pills-profile","aria-selected":"false"}},[t._v("Invite a Friend")])])])]),a("div",{staticClass:"tab-content",attrs:{id:"pills-tabContent"}},[t.userDetails?a("div",{staticClass:"tab-pane fade show active",attrs:{id:"my-invites",role:"tabpanel","aria-labelledby":"pills-home-tab"}},[a("ul",{staticClass:"px-3 px-lg-5 mb-0"},t._l(t.userDetails.invited.data,(function(e){return null!==t.userDetails&&t.userDetails.invited?a("li",{key:e.name,staticClass:"li-invites"},[t._v("\n            "+t._s(e.group_name)+"\n            "),0===e.accepted?a("button",{staticClass:"btn btn-sm btn-warning",on:{click:function(a){return t.acceptInvitation(e.group_uuid)}}},[t._v("\n              Accept\n            ")]):a("button",{staticClass:"btn btn-sm btn-warning",on:{click:function(a){return t.leaveGroup(e.group_uuid)}}},[t._v("\n              Leave\n            ")])]):t._e()})),0)]):t._e(),a("div",{staticClass:"tab-pane fade show",attrs:{id:"my-invited-friends",role:"tabpanel","aria-labelledby":"pills-home-tab"}},[a("ul",{staticClass:"px-3 px-lg-5 mb-0"},t._l(t.authUser.group.invites.data,(function(e){return a("li",{key:e.id,staticClass:"li-invites"},[t._v("\n            "+t._s(e.invited)+"\n            "),a("button",{staticClass:"btn btn-warning"},[t._v("\n              pending\n            ")])])})),0)]),a("div",{staticClass:"tab-pane fade py-4",attrs:{id:"invite-user",role:"tabpanel","aria-labelledby":"pills-profile-tab"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-9 col-xl-7"},[a("BetForm",{staticClass:"px-3 px-lg-5"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.inviteFriend(e)}}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[a("i",{staticClass:"fa fa-plus"})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.invitee,expression:"invitee"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Add a friend number"},domProps:{value:t.invitee},on:{input:function(e){e.target.composing||(t.invitee=e.target.value)}}})])]),a("div",{staticClass:"form-group"},[a("BetButton",{attrs:{type:"submit"}},[t._v("Send Invitation")])],1)])])],1)])])])],1)])},U=[],I=a("65e8"),V={name:"GroupInvitations",props:["authUser","userDetails"],components:{BetButton:b["a"],BetForm:v["a"],BetNavTabs:I["a"]},data:function(){return{invitee:"",friends:""}},methods:{inviteFriend:function(){var t=this,e=[],a={invitee:this.invitee};c.a.post(r["t"],a,{headers:o["a"].getHeaders()}).then((function(a){200===a.data.status?(t.$noty.success(a.data.message),t.invitee="",e.push(t.invitee)):t.$noty.error(a.data.message)}))},acceptInvitation:function(t){var e=this,a={group_id:t,accepted:!0};c.a.post(r["n"],a,{headers:o["a"].getHeaders()}).then((function(t){200===t.status&&(e.$noty.success("Friend notified, and invited successfully"),e.$store.dispatch("init_auth_user",{request:"refresh"}))}))}},leaveGroup:function(t){}},H=V,A=(a("20b9"),Object(g["a"])(H,D,U,!1,null,"e8da5b26",null)),N=A.exports;function W(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function q(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?W(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var R=function(){return a.e("chunk-0f62d867").then(a.bind(null,"9fda"))},J=function(){return a.e("chunk-2d0a4f9e").then(a.bind(null,"0976"))},L={name:"group",components:{GroupInvitations:N,GroupBetHistory:S,VotingComponent:$,Contribution:h,GroupList:R,CreateGroup:J},computed:q({},Object(u["c"])(["authUser","userDetails","userGroups"])),data:function(){return{invitee:"",friends:"",suggestion:{game:"",group:""},suggestErrors:[],markets:[{name:"Match Results"},{name:"Double Chance"},{name:"Over Under"}]}},methods:{addToVoted:function(t){this.votes.push(t.game_id)},placeGroupBet:function(){},inviteFriend:function(){var t=this,e={invitee:this.invitee};c.a.post(r["t"],e,{headers:o["a"].getHeaders()}).then((function(e){200===e.data.status?(t.$noty.success("Friend notified, and invited successfully"),t.invitee=""):t.$noty.error(e.data.message)}))}}},M=L,K=(a("6394"),Object(g["a"])(M,s,i,!1,null,"0ca0c5b1",null));e["default"]=K.exports},5378:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bet-accordion",attrs:{role:"tablist"}},[t._t("default")],2)},i=[],n={name:"BetAccordion"},r=n,o=(a("9c54"),a("2877")),u=Object(o["a"])(r,s,i,!1,null,null,null);e["a"]=u.exports},"5d44":function(t,e,a){},"5eda":function(t,e,a){var s=a("5ca1"),i=a("8378"),n=a("79e5");t.exports=function(t,e){var a=(i.Object||{})[t]||Object[t],r={};r[t]=e(a),s(s.S+s.F*n((function(){a(1)})),"Object",r)}},6394:function(t,e,a){"use strict";var s=a("5d44"),i=a.n(s);i.a},"65e8":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bet-nav-items"},[t._t("default")],2)},i=[],n={name:"BetNavTabs"},r=n,o=(a("fe38"),a("2877")),u=Object(o["a"])(r,s,i,!1,null,"7cf7b736",null);e["a"]=u.exports},"8e6e":function(t,e,a){var s=a("5ca1"),i=a("990b"),n=a("6821"),r=a("11e9"),o=a("f1ae");s(s.S,"Object",{getOwnPropertyDescriptors:function(t){var e,a,s=n(t),u=r.f,l=i(s),c={},d=0;while(l.length>d)a=u(s,e=l[d++]),void 0!==a&&o(c,e,a);return c}})},"979e":function(t,e,a){"use strict";var s=a("c5e8"),i=a.n(s);i.a},"990b":function(t,e,a){var s=a("9093"),i=a("2621"),n=a("cb7c"),r=a("7726").Reflect;t.exports=r&&r.ownKeys||function(t){var e=s.f(n(t)),a=i.f;return a?e.concat(a(t)):e}},"9b37":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table table-striped rafiki-table"},[t._t("default")],2)},i=[],n={name:"RafikiTable"},r=n,o=(a("be11"),a("2877")),u=Object(o["a"])(r,s,i,!1,null,"37232f94",null);e["a"]=u.exports},"9c54":function(t,e,a){"use strict";var s=a("f175"),i=a.n(s);i.a},b6a6:function(t,e,a){},be11:function(t,e,a){"use strict";var s=a("ded9"),i=a.n(s);i.a},c5e8:function(t,e,a){},ded9:function(t,e,a){},ead6:function(t,e,a){},eb6e:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bet-form"},[t._t("default")],2)},i=[],n={name:"BetForm"},r=n,o=(a("18b4"),a("2877")),u=Object(o["a"])(r,s,i,!1,null,"71cfc8cd",null);e["a"]=u.exports},f175:function(t,e,a){},f1ae:function(t,e,a){"use strict";var s=a("86cc"),i=a("4630");t.exports=function(t,e,a){e in t?s.f(t,e,i(0,a)):t[e]=a}},fe38:function(t,e,a){"use strict";var s=a("b6a6"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-078589de.439fd7ae.js.map