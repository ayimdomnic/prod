{"version":3,"sources":["webpack:///./src/components/Users/VerifyUser.vue?c42c","webpack:///src/components/Users/VerifyUser.vue","webpack:///./src/components/Users/VerifyUser.vue?5102","webpack:///./src/components/Users/VerifyUser.vue","webpack:///./src/components/Utilities/LoadingIndicator.vue?bf55","webpack:///./src/components/Utilities/LoadingIndicator.vue?0da2","webpack:///src/components/Utilities/LoadingIndicator.vue","webpack:///./src/components/Utilities/LoadingIndicator.vue?98ab","webpack:///./src/components/Utilities/LoadingIndicator.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","preventDefault","submitOtp","isFormRegisterPage","_e","_v","directives","name","rawName","value","formData","expression","domProps","target","composing","$set","isLoading","code","staticRenderFns","component","_m","staticStyle"],"mappings":"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","file":"js/chunk-2bfa2e07.c0121349.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6 col-sm-12 col-xs-12 offset-md-2\"},[_c('form',{attrs:{\"id\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.submitOtp()}}},[_c('div',{staticClass:\"form-group\"},[(!_vm.isFormRegisterPage)?_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"verifyPhone\"}},[_vm._v(\"Phone Number\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.phone),expression:\"formData.phone\"}],staticClass:\"form-control rounded-0\",attrs:{\"type\":\"text\",\"required\":\"\",\"id\":\"verifyPhone\",\"aria-describedby\":\"phoneHelp\",\"placeholder\":\"Enter Phone Number\"},domProps:{\"value\":(_vm.formData.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"phone\", $event.target.value)}}})]):_vm._e(),_c('label',{attrs:{\"for\":\"otp\"}},[_vm._v(\"Code\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.code),expression:\"formData.code\"}],staticClass:\"form-control rounded-0\",attrs:{\"type\":\"text\",\"required\":\"\",\"id\":\"otp\",\"placeholder\":\"Enter the code\"},domProps:{\"value\":(_vm.formData.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"code\", $event.target.value)}}})]),(!_vm.isLoading)?_c('button',{staticClass:\"btn btn-primary rounded-0 btn-block\",attrs:{\"type\":\"submit\",\"disabled\":!_vm.formData.code}},[_vm._v(\"\\n                Verify Account\\n            \")]):_vm._e(),(_vm.isLoading)?_c('LoadingIndicator'):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"row\">\n        <div class=\"col-md-6 col-sm-12 col-xs-12 offset-md-2\">\n            <form id=\"\" @submit.prevent=\"submitOtp()\">\n                <div class=\"form-group\">\n                    <div class=\"form-group\" v-if=\"!isFormRegisterPage\">\n                        <label for=\"verifyPhone\">Phone Number</label>\n                        <input type=\"text\" class=\"form-control rounded-0\"\n                               v-model=\"formData.phone\"\n                               required\n                               id=\"verifyPhone\" aria-describedby=\"phoneHelp\" placeholder=\"Enter Phone Number\">\n                    </div>\n                    <label for=\"otp\">Code</label>\n                    <input type=\"text\" class=\"form-control rounded-0\"\n                           v-model=\"formData.code\"\n                           required\n                           id=\"otp\" placeholder=\"Enter the code\">\n                </div>\n                <button type=\"submit\"\n                        v-if=\"!isLoading\"\n                        :disabled=\"!formData.code\"\n                        class=\"btn btn-primary rounded-0 btn-block\">\n                    Verify Account\n                </button>\n                <LoadingIndicator v-if=\"isLoading\"></LoadingIndicator>\n\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\n    import { USER_VERIFICATION_URL} from \"../../api_routes\";\n    import axios from 'axios';\n    import LoadingIndicator from \"../Utilities/LoadingIndicator\";\n    import {AUTH_CONFIG} from \"../../auth_config\";\n    export default {\n        name: \"VerifyUser\",\n        components: {LoadingIndicator},\n        data () {\n            return {\n                isFormRegisterPage: false,\n                isLoading: false,\n                formData: {\n                    phone: '',\n                    code: '',\n                }\n            }\n        },\n        mounted () {\n          let storedUser = JSON.parse(localStorage.getItem('regData'))\n          if (storedUser) { this.isFormRegisterPage = true }\n        },\n        destroyed () {\n            let storedUser = JSON.parse(localStorage.getItem('regData'))\n            if (storedUser) { localStorage.removeItem('regData') }\n        },\n        methods: {\n            \n            verifyRegisteredUser () {\n                let storedUser = JSON.parse(localStorage.getItem('regData'))\n                let authData = {\n                    phone: storedUser.phone,\n                    uuid: JSON.parse(localStorage.getItem('otp_code')),\n                    code: this.formData.code\n                }\n                axios.post(USER_VERIFICATION_URL, authData).then(response => {\n                    if (response.status === 200) {\n                        this.$noty.success('Registration Successful, Attempting to log you in.')\n                        // Login the user\n                        this.$store.dispatch('loginUser', {\n                            phone: storedUser.phone,\n                            password: storedUser.password,\n                            client_id: AUTH_CONFIG.CLIENT_ID,\n                            client_secret: AUTH_CONFIG.CLIENT_SECRET,\n                            grant_type: AUTH_CONFIG.GRANT_TYPE\n                        }).then((resp) => {\n                                localStorage.removeItem('regData')\n                                localStorage.removeItem('otp_code')\n                                this.$noty.success('Successfully logged in')\n                                this.isLoading = !this.isLoading\n                                this.$router.push({ name: 'home'});\n                                console.log(resp)\n\n                            },\n                            () => this.$noty.error('Unable to log you in, please contact our customer care for assistance')\n                        )\n                    }\n                }, (error) => {\n                    this.isLoading = !this.isLoading\n                    this.$noty.error('There was a problem verifying your identity. Please try again.')\n                    this.error = error\n                })\n            },\n            submitOtp () {\n                this.isLoading = true\n                let storedUser = JSON.parse(localStorage.getItem('regData'))\n                if (storedUser)\n                    this.verifyRegisteredUser();\n                else\n                    this.verifyUserAccount();\n\n            },\n            verifyUserAccount () {\n                axios.post(USER_VERIFICATION_URL, this.formData).then(resp => {\n                    this.isLoading = !this.isLoading\n                    this.$noty.success('Verification successful, please login.')\n                    this.$router.push('login')\n                }, () => {\n                    this.$noty.error('Unable to verify your account. Please contact our customer care for assistance');\n                    this.isLoading = !this.isLoading\n                })\n            }\n        },\n    }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerifyUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VerifyUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VerifyUser.vue?vue&type=template&id=29749f6e&scoped=true&\"\nimport script from \"./VerifyUser.vue?vue&type=script&lang=js&\"\nexport * from \"./VerifyUser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29749f6e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingIndicator.vue?vue&type=style&index=0&id=2e03ed55&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingIndicator.vue?vue&type=style&index=0&id=2e03ed55&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lds-ellipsis\",staticStyle:{\"margin\":\"3px auto\",\"text-align\":\"center\"}},[_c('div'),_c('div'),_c('div'),_c('div')])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"lds-ellipsis\" style=\"margin: 3px auto; text-align: center\">\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'LoadingIndicator'\n  }\n</script>\n\n<style scoped>\n  .lds-ellipsis {\n    display: inline-block;\n    position: relative;\n    width: 64px;\n    height: 64px;\n  }\n  .lds-ellipsis div {\n    position: absolute;\n    top: 27px;\n    width: 11px;\n    height: 11px;\n    border-radius: 50%;\n    background: #f7de31;\n    animation-timing-function: cubic-bezier(0, 1, 1, 0);\n  }\n  .lds-ellipsis div:nth-child(1) {\n    left: 6px;\n    animation: lds-ellipsis1 0.6s infinite;\n  }\n  .lds-ellipsis div:nth-child(2) {\n    left: 6px;\n    animation: lds-ellipsis2 0.6s infinite;\n  }\n  .lds-ellipsis div:nth-child(3) {\n    left: 26px;\n    animation: lds-ellipsis2 0.6s infinite;\n  }\n  .lds-ellipsis div:nth-child(4) {\n    left: 45px;\n    animation: lds-ellipsis3 0.6s infinite;\n  }\n  @keyframes lds-ellipsis1 {\n    0% {\n      transform: scale(0);\n    }\n    100% {\n      transform: scale(1);\n    }\n  }\n  @keyframes lds-ellipsis3 {\n    0% {\n      transform: scale(1);\n    }\n    100% {\n      transform: scale(0);\n    }\n  }\n  @keyframes lds-ellipsis2 {\n    0% {\n      transform: translate(0, 0);\n    }\n    100% {\n      transform: translate(19px, 0);\n    }\n  }\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingIndicator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingIndicator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoadingIndicator.vue?vue&type=template&id=2e03ed55&scoped=true&\"\nimport script from \"./LoadingIndicator.vue?vue&type=script&lang=js&\"\nexport * from \"./LoadingIndicator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoadingIndicator.vue?vue&type=style&index=0&id=2e03ed55&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e03ed55\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}