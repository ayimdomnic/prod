(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bfa2e07","chunk-7d64f71e"],{"4b83":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-6 col-sm-12 col-xs-12 offset-md-2"},[o("form",{attrs:{id:""},on:{submit:function(t){return t.preventDefault(),e.submitOtp()}}},[o("div",{staticClass:"form-group"},[e.isFormRegisterPage?e._e():o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"verifyPhone"}},[e._v("Phone Number")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.phone,expression:"formData.phone"}],staticClass:"form-control rounded-0",attrs:{type:"text",required:"",id:"verifyPhone","aria-describedby":"phoneHelp",placeholder:"Enter Phone Number"},domProps:{value:e.formData.phone},on:{input:function(t){t.target.composing||e.$set(e.formData,"phone",t.target.value)}}})]),o("label",{attrs:{for:"otp"}},[e._v("Code")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.code,expression:"formData.code"}],staticClass:"form-control rounded-0",attrs:{type:"text",required:"",id:"otp",placeholder:"Enter the code"},domProps:{value:e.formData.code},on:{input:function(t){t.target.composing||e.$set(e.formData,"code",t.target.value)}}})]),e.isLoading?e._e():o("button",{staticClass:"btn btn-primary rounded-0 btn-block",attrs:{type:"submit",disabled:!e.formData.code}},[e._v("\n                Verify Account\n            ")]),e.isLoading?o("LoadingIndicator"):e._e()],1)])])},r=[],n=o("56c0"),s=o("bc3a"),i=o.n(s),c=o("fc64"),u=o("b9f0"),l={name:"VerifyUser",components:{LoadingIndicator:c["default"]},data:function(){return{isFormRegisterPage:!1,isLoading:!1,formData:{phone:"",code:""}}},mounted:function(){var e=JSON.parse(localStorage.getItem("regData"));e&&(this.isFormRegisterPage=!0)},destroyed:function(){var e=JSON.parse(localStorage.getItem("regData"));e&&localStorage.removeItem("regData")},methods:{verifyRegisteredUser:function(){var e=this,t=JSON.parse(localStorage.getItem("regData")),o={phone:t.phone,uuid:JSON.parse(localStorage.getItem("otp_code")),code:this.formData.code};i.a.post(n["P"],o).then((function(o){200===o.status&&(e.$noty.success("Registration Successful, Attempting to log you in."),e.$store.dispatch("loginUser",{phone:t.phone,password:t.password,client_id:u["a"].CLIENT_ID,client_secret:u["a"].CLIENT_SECRET,grant_type:u["a"].GRANT_TYPE}).then((function(t){localStorage.removeItem("regData"),localStorage.removeItem("otp_code"),e.$noty.success("Successfully logged in"),e.isLoading=!e.isLoading,e.$router.push({name:"home"})}),(function(){return e.$noty.error("Unable to log you in, please contact our customer care for assistance")})))}),(function(t){e.isLoading=!e.isLoading,e.$noty.error("There was a problem verifying your identity. Please try again."),e.error=t}))},submitOtp:function(){this.isLoading=!0;var e=JSON.parse(localStorage.getItem("regData"));e?this.verifyRegisteredUser():this.verifyUserAccount()},verifyUserAccount:function(){var e=this;i.a.post(n["P"],this.formData).then((function(t){e.isLoading=!e.isLoading,e.$noty.success("Verification successful, please login."),e.$router.push("login")}),(function(){e.$noty.error("Unable to verify your account. Please contact our customer care for assistance"),e.isLoading=!e.isLoading}))}}},d=l,f=o("2877"),m=Object(f["a"])(d,a,r,!1,null,"29749f6e",null);t["default"]=m.exports},"7f76":function(e,t,o){"use strict";var a=o("b476"),r=o.n(a);r.a},b476:function(e,t,o){},fc64:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"lds-ellipsis",staticStyle:{margin:"3px auto","text-align":"center"}},[o("div"),o("div"),o("div"),o("div")])}],n={name:"LoadingIndicator"},s=n,i=(o("7f76"),o("2877")),c=Object(i["a"])(s,a,r,!1,null,"2e03ed55",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2bfa2e07.c0121349.js.map